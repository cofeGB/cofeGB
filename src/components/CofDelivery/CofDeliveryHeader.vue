<template>
  <tooltip
    :content="QUICK_ORDER.length ? 'У вас есть заказ' : 'Корзина пуста'"
    :disabled="disabled"
  >
    <v-btn class="order-logo" text @click="$emit('openOrder')" :ripple="false">
      <Title v-if="!tooltipDisabled" size="25px">Ваш заказ</Title>
      <div class="basket">
        <svg viewBox="0 0 63 49" fill="none" xmlns="http://www.w3.org/2000/svg" class="basket-svg">
          <path
            d="M38.9581 44.698V44.516H27.5001V44.698C27.5001 45.7063 27.0995 46.6734 26.3865 47.3864C25.6735 48.0994 24.7064 48.5 23.6981 48.5C22.6897 48.5 21.7227 48.0994 21.0096 47.3864C20.2966 46.6734 19.8961 45.7063 19.8961 44.698V44.516H18.5941C18.0371 44.5157 17.4969 44.3252 17.063 43.9761C16.6291 43.6269 16.3275 43.14 16.2081 42.596L16.2061 42.58L8.57206 6.43399L2.05006 5.34799C1.4289 5.22252 0.880847 4.86051 0.521677 4.33842C0.162508 3.81634 0.0203539 3.17508 0.125249 2.55012C0.230145 1.92516 0.573873 1.36545 1.08382 0.989242C1.59376 0.613032 2.22998 0.449787 2.85806 0.533993L2.84606 0.531993L11.0081 1.89199C12.0021 2.06199 12.7821 2.81399 12.9901 3.77799L12.9921 3.79399L14.3761 10.322L38.1841 12.306C38.0441 13.018 37.9641 13.838 37.9601 14.678V14.682C37.9601 15.444 38.0241 16.19 38.1441 16.918L38.1341 16.84C37.5541 17.064 37.0881 17.48 36.8081 18.01L36.8021 18.024C36.4811 18.613 36.3617 19.2908 36.4621 19.954L36.4601 19.938L37.8981 30.318C37.9861 30.984 38.2901 31.568 38.7341 32.008C39.1381 32.41 39.6941 32.66 40.3061 32.668H40.3081C40.4441 32.668 40.5781 32.654 40.7061 32.63L40.6921 32.632C41.374 32.4538 41.9626 32.023 42.3388 31.427C42.715 30.831 42.8506 30.1142 42.7181 29.422L42.7201 29.44L42.0001 24.256C44.4885 26.7168 47.8484 28.0949 51.3481 28.09H51.3521C51.4381 28.09 51.5241 28.09 51.6081 28.078H51.7921L50.4541 35.882C50.4216 36.0708 50.3236 36.2421 50.1772 36.3657C50.0309 36.4894 49.8456 36.5575 49.6541 36.558H19.9161L20.5701 39.652H48.8841L48.9561 39.65C49.6037 39.65 50.2249 39.9073 50.6828 40.3652C51.1408 40.8232 51.3981 41.4443 51.3981 42.092C51.3981 42.7397 51.1408 43.3608 50.6828 43.8187C50.2249 44.2767 49.6037 44.534 48.9561 44.534L48.8801 44.532H48.8841H46.5561V44.714C46.5563 45.2133 46.4582 45.7077 46.2674 46.1691C46.0766 46.6305 45.7968 47.0498 45.4439 47.403C45.091 47.7562 44.6721 48.0365 44.2109 48.2278C43.7497 48.4191 43.2553 48.5177 42.7561 48.518C42.2568 48.5183 41.7623 48.4202 41.3009 48.2293C40.8396 48.0385 40.4203 47.7587 40.0671 47.4058C39.7138 47.053 39.4335 46.634 39.2422 46.1728C39.0509 45.7116 38.9523 45.2173 38.9521 44.718V44.714L38.9581 44.698ZM41.6741 44.698C41.6729 44.8485 41.7032 44.9975 41.7631 45.1356C41.8229 45.2737 41.9109 45.3977 42.0215 45.4998C42.1321 45.6018 42.2627 45.6797 42.4052 45.7283C42.5476 45.7769 42.6986 45.7952 42.8485 45.782C42.9984 45.7689 43.1439 45.7246 43.2756 45.6519C43.4074 45.5792 43.5225 45.4798 43.6136 45.36C43.7047 45.2403 43.7698 45.1028 43.8046 44.9564C43.8395 44.81 43.8434 44.658 43.8161 44.51V44.516H41.6901C41.68 44.5748 41.6753 44.6344 41.6761 44.694V44.698H41.6741ZM22.6181 44.698C22.6185 44.8473 22.6499 44.9948 22.7103 45.1313C22.7707 45.2678 22.8588 45.3903 22.969 45.4909C23.0792 45.5916 23.2091 45.6683 23.3505 45.7161C23.4919 45.764 23.6417 45.7819 23.7904 45.7689C23.9391 45.7558 24.0835 45.712 24.2143 45.6402C24.3452 45.5685 24.4598 45.4703 24.5507 45.352C24.6417 45.2336 24.7071 45.0977 24.7428 44.9528C24.7785 44.8078 24.7837 44.657 24.7581 44.51V44.516H22.6341C22.624 44.5748 22.6193 44.6344 22.6201 44.694V44.698H22.6181ZM30.5621 16.754C29.8802 16.9301 29.2908 17.3589 28.9134 17.9535C28.5361 18.5482 28.399 19.264 28.5301 19.956L28.5281 19.938L29.9661 30.318C30.0541 30.984 30.3581 31.568 30.8021 32.008C31.2061 32.41 31.7601 32.662 32.3741 32.668H32.3761C32.5121 32.668 32.6461 32.654 32.7741 32.63L32.7601 32.632C33.4426 32.4546 34.032 32.0241 34.4087 31.4279C34.7853 30.8317 34.921 30.1146 34.7881 29.422L34.7901 29.44L33.3521 19.06C33.2691 18.4194 32.9749 17.8247 32.5161 17.37C32.2602 17.1177 31.9477 16.9301 31.6047 16.823C31.2617 16.7158 30.8981 16.6922 30.5441 16.754L30.5581 16.752L30.5621 16.754ZM22.6281 16.754C21.9469 16.9309 21.3585 17.3601 20.9819 17.9546C20.6054 18.5492 20.4689 19.2646 20.6001 19.956L20.5981 19.938L22.0361 30.318C22.1241 30.984 22.4281 31.568 22.8721 32.008C23.2761 32.41 23.8321 32.66 24.4441 32.668H24.4461C24.5821 32.668 24.7161 32.654 24.8441 32.63L24.8301 32.632C25.512 32.4538 26.1006 32.023 26.4768 31.427C26.853 30.831 26.9886 30.1142 26.8561 29.422L26.8581 29.44L25.4181 19.07C25.3351 18.4294 25.0409 17.8347 24.5821 17.38C24.1649 16.9621 23.6005 16.7244 23.0101 16.718H23.0041C22.8726 16.7177 22.7413 16.7297 22.6121 16.754L22.6261 16.752L22.6281 16.754ZM39.9961 14.69C39.9961 11.6771 41.1929 8.78767 43.3233 6.65726C45.4537 4.52685 48.3432 3.32999 51.3561 3.32999C54.3689 3.32999 57.2584 4.52685 59.3888 6.65726C61.5192 8.78767 62.7161 11.6771 62.7161 14.69C62.7161 17.7034 61.519 20.5934 59.3882 22.7241C57.2574 24.8549 54.3675 26.052 51.3541 26.052C48.3407 26.052 45.4507 24.8549 43.3199 22.7241C41.1891 20.5934 39.9921 17.7034 39.9921 14.69H39.9961ZM43.2501 14.69C43.2501 16.8404 44.1043 18.9027 45.6248 20.4232C47.1454 21.9438 49.2077 22.798 51.3581 22.798C53.5084 22.798 55.5707 21.9438 57.0913 20.4232C58.6118 18.9027 59.4661 16.8404 59.4661 14.69C59.4661 12.5391 58.6116 10.4763 57.0907 8.95536C55.5698 7.43444 53.507 6.57999 51.3561 6.57999C49.2052 6.57999 47.1423 7.43444 45.6214 8.95536C44.1005 10.4763 43.2461 12.5391 43.2461 14.69H43.2501Z"
            fill="white"
          />
        </svg>
        <div class="count" :style="QUICK_ORDER.length ? 'background: #25dcd1' : ''"></div>
      </div>
    </v-btn>
  </tooltip>
</template>

<script>
import { mapGetters } from 'vuex';
export default {
  name: 'delivery-header',

  props: {
    tooltipDisabled: {
      type: Boolean,
      default: false,
    },
  },
  computed: {
    ...mapGetters(['QUICK_ORDER']),
    disabled() {
      return this.tooltipDisabled;
    },
  },
};
</script>

<style lang="scss" scoped>
.order-logo {
  display: flex;
  align-items: center;
  // max-width: fit-content !important;
  color: #fff !important;
}
.basket {
  display: block;
  position: relative;
  .count {
    position: absolute;
    display: block;
    top: 6px;
    right: 4px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
  }
  &-svg {
    height: 30px;
  }
}
</style>
